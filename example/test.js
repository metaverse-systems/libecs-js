module.exports=(()=>{var t={758:(t,e,n)=>{const o=n(568);var i=o.Component,r=o.Manager,s=o.System,a=(new r).Container();a.System(new class extends s{constructor(t){void 0===t&&(t={}),super(t),this.Handle="PhysicsSystem",this.ComponentRequest("PositionComponent"),this.ComponentRequest("VelocityComponent"),this.frame_time=void 0===t.frame_time?20:t.frame_time}Update(){var t=this.DeltaTimeGet(),e=t/1e3;console.log("Last run "+t+"ms ago.");var n=this.ComponentsGet();Object.keys(n.PositionComponent).forEach((t=>{var o=n.PositionComponent[t],i=n.VelocityComponent[t];o.x+=i.x*e,o.y+=i.y*e,console.log(t+" - Position - x: "+Number.parseFloat(o.x).toFixed(2)+", y: "+Number.parseFloat(o.y).toFixed(2)+"   Velocity - x: "+i.x+", y: "+i.y)}))}});var u=a.Entity();u.Component(new class extends i{constructor(t){super(t),this.Type="PositionComponent"}}({x:10,y:20})),u.Component(new class extends i{constructor(t){super(t),this.Type="VelocityComponent"}}({x:1,y:0}));var l=a.Export();console.log(JSON.stringify(l,null,2)),a.Start(500)},568:t=>{var e,n;t.exports=(e={436:t=>{var e=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.EntityHandle=null,Object.keys(e).forEach((function(t){n[t]=e[t]}))}var e;return(e=[{key:"Export",value:function(){var t=this,e={};return Object.keys(this).forEach((function(n){"EntityHandle"!=n&&"Type"!=n&&(e[n]=t[n])})),e}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,e),t}();t.exports=e},694:(t,e,n)=>{var o=n(663),i=n(171),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Handle=e,void 0===this.Handle&&(this.Handle=i()),this.Entities={},this.Systems={},this.Components={},this.SleepInterval=1e3/30,this.IntervalFunc=null,this.Running=!1}var e;return(e=[{key:"Start",value:function(t){void 0!==t&&(this.SleepInterval=t);var e=this;this.SystemsInit(),this.IntervalFunc=setInterval((function(){e.Update()}),this.SleepInterval),this.Running=!0}},{key:"SystemsInit",value:function(){var t=this;Object.keys(this.Systems).forEach((function(e){t.Systems[e].Init()}))}},{key:"Update",value:function(){var t=this;Object.keys(this.Systems).forEach((function(e){t.Systems[e].Update()})),!1===this.Running&&clearInterval(this.IntervalFunc)}},{key:"ManagerSet",value:function(t){this.Manager=t}},{key:"HandleGet",value:function(){return this.Handle}},{key:"Entity",value:function(t){return this.EntityCreate(t)}},{key:"System",value:function(t){return t.ContainerSet(this),this.Systems[t.HandleGet()]=t,t}},{key:"EntityCreate",value:function(t){var e;return void 0===t?(e=new o,this.Entities[e.HandleGet()]=e):void 0===this.Entities[t]?(e=new o(t),this.Entities[e.HandleGet()]=e):e=this.Entities[t],e.ContainerSet(this),e}},{key:"EntityDestroy",value:function(t){var e=this;Object.keys(this.Components).forEach((function(n){delete e.Components[n][t]}))}},{key:"Component",value:function(t){return void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][t.EntityHandle]=t,t}},{key:"ComponentsGet",value:function(t){var e=this,n={};return t.forEach((function(t){n[t]=e.Components[t],void 0===n[t]&&(n[t]={})})),n}},{key:"Export",value:function(){var t=this,e={};return e.Handle=this.Handle,e.Entities=[],e.Systems=[],Object.keys(this.Entities).forEach((function(n){e.Entities.push(t.Entities[n].Export())})),Object.keys(this.Systems).forEach((function(n){e.Systems.push(t.Systems[n].Export())})),e}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,e),t}();t.exports=r},663:(t,e,n)=>{var o=n(171),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Handle=o(),this.Components={}}var e;return(e=[{key:"HandleGet",value:function(){return this.Handle}},{key:"ContainerSet",value:function(t){this.Container=t}},{key:"Component",value:function(t){return t.EntityHandle=this.Handle,void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][this.Handle]=t,this.Container.Component(t)}},{key:"Export",value:function(){var t=this,e={Handle:this.Handle,Components:{}};return Object.keys(this.Components).forEach((function(n){Object.keys(t.Components[n]).forEach((function(o){e.Components[n]=t.Components[n][o].Export()}))})),e}},{key:"destroy",value:function(){this.Container.EntityDestroy(this.Handle)}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,e),t}();t.exports=i},224:(t,e,n)=>{var o=n(694),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Containers=[],this.Running=!0}var e;return(e=[{key:"ContainerCreate",value:function(t){var e=new o(t);return this.Containers[e.Handle]=e,this.Containers[e.Handle]}},{key:"Container",value:function(t){return void 0!==t?void 0!==containers[t]?containers[t]:this.ContainerCreate(t):this.ContainerCreate()}},{key:"ContainersGet",value:function(){return Containers}},{key:"ContainersKill",value:function(t){t.forEach((function(t){clearInterval(t.interval)}))}},{key:"IsRunning",value:function(){return Running}},{key:"Shutdown",value:function(){Running=!1,this.ContainersKill(this.ContainersGet())}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,e),t}();t.exports=i},97:t=>{var e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Handle=null,this.RequestedComponents=[],this.LastTime=(new Date).getTime()}var e;return(e=[{key:"HandleGet",value:function(){return this.Handle}},{key:"ContainerSet",value:function(t){this.Container=t}},{key:"ComponentRequest",value:function(t){this.RequestedComponents.includes(t)||this.RequestedComponents.push(t)}},{key:"ComponentsGet",value:function(){return this.Container.ComponentsGet(this.RequestedComponents)}},{key:"DeltaTimeGet",value:function(){var t=(new Date).getTime(),e=t-this.LastTime;return this.LastTime=t,e}},{key:"Init",value:function(){}},{key:"Export",value:function(){var t=this,e={Handle:this.Handle};return Object.keys(this).forEach((function(n){"Handle"!=n&&"Container"!=n&&"RequestedComponents"!=n&&"LastTime"!=n&&(e[n]=t[n])})),e}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(t.prototype,e),t}();t.exports=e},607:(t,e,n)=>{var o=n(436),i=n(224),r=n(97);t.exports={Component:o,Manager:i,System:r}},327:t=>{for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var o=n||0,i=e;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},171:(t,e,n)=>{var o=n(217),i=n(327);t.exports=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[r+a]=s[a];return e||i(s)}}},n={},function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(607))}},e={};return function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}(758)})();