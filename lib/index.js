module.exports=(()=>{var t={607:(t,e,n)=>{var s=n(202),r=n(930),i=n(977);t.exports={Component:s,Manager:r,System:i}},327:t=>{for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var s=n||0,r=e;return[r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var s=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),s[e]=t>>>((3&e)<<3)&255;return s}}},171:(t,e,n)=>{var s=n(217),r=n(327);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[i+a]=o[a];return e||r(o)}},202:t=>{t.exports=class{constructor(t){this.EntityHandle=null,Object.keys(t).forEach((e=>{this[e]=t[e]}))}Export(){var t={};return Object.keys(this).forEach((e=>{"EntityHandle"!=e&&"Type"!=e&&(t[e]=this[e])})),t}}},108:(t,e,n)=>{var s=n(293);const r=n(171);t.exports=class{constructor(t){this.Handle=t,void 0===this.Handle&&(this.Handle=r()),this.Entities={},this.Systems={},this.Components={},this.SleepInterval=1e3/30,this.IntervalFunc=null,this.Running=!1}Start(t){void 0!==t&&(this.SleepInterval=t);var e=this;this.SystemsInit(),this.IntervalFunc=setInterval((function(){e.Update()}),this.SleepInterval),this.Running=!0}SystemsInit(){Object.keys(this.Systems).forEach((t=>{this.Systems[t].Init()}))}Update(){Object.keys(this.Systems).forEach((t=>{this.Systems[t].Update()})),!1===this.Running&&clearInterval(this.IntervalFunc)}ManagerSet(t){this.Manager=t}HandleGet(){return this.Handle}Entity(t){return this.EntityCreate(t)}System(t){return t.ContainerSet(this),this.Systems[t.HandleGet()]=t,t}EntityCreate(t){var e;return void 0===t?(e=new s,this.Entities[e.HandleGet()]=e):void 0===this.Entities[t]?(e=new s(t),this.Entities[e.HandleGet()]=e):e=this.Entities[t],e.ContainerSet(this),e}EntityDestroy(t){Object.keys(this.Components).forEach((e=>{delete this.Components[e][t]}))}Component(t){return void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][t.EntityHandle]=t,t}ComponentsGet(t){var e={};return t.forEach((t=>{e[t]=this.Components[t],void 0===e[t]&&(e[t]={})})),e}Export(){var t={};return t.Handle=this.Handle,t.Entities=[],t.Systems=[],Object.keys(this.Entities).forEach((e=>{t.Entities.push(this.Entities[e].Export())})),Object.keys(this.Systems).forEach((e=>{t.Systems.push(this.Systems[e].Export())})),t}}},293:(t,e,n)=>{const s=n(171);t.exports=class{constructor(){this.Handle=s(),this.Components={}}HandleGet(){return this.Handle}ContainerSet(t){this.Container=t}Component(t){return t.EntityHandle=this.Handle,void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][this.Handle]=t,this.Container.Component(t)}Export(){var t={Handle:this.Handle,Components:{}};return Object.keys(this.Components).forEach((e=>{Object.keys(this.Components[e]).forEach((n=>{t.Components[e]=this.Components[e][n].Export()}))})),t}destroy(){this.Container.EntityDestroy(this.Handle)}}},930:(t,e,n)=>{var s=n(108);t.exports=class{constructor(){this.Containers=[],this.Running=!0}ContainerCreate(t){var e=new s(t);return this.Containers[e.Handle]=e,this.Containers[e.Handle]}Container(t){return void 0!==t?void 0!==containers[t]?containers[t]:this.ContainerCreate(t):this.ContainerCreate()}ContainersGet(){return Containers}ContainersKill(t){t.forEach((function(t){clearInterval(t.interval)}))}IsRunning(){return Running}Shutdown(){Running=!1,this.ContainersKill(this.ContainersGet())}}},977:t=>{t.exports=class{constructor(t){this.Handle=null,this.RequestedComponents=[],this.LastTime=(new Date).getTime()}HandleGet(){return this.Handle}ContainerSet(t){this.Container=t}ComponentRequest(t){this.RequestedComponents.includes(t)||this.RequestedComponents.push(t)}ComponentsGet(){return this.Container.ComponentsGet(this.RequestedComponents)}DeltaTimeGet(){var t=(new Date).getTime(),e=t-this.LastTime;return this.LastTime=t,e}Init(){}Export(){var t={Handle:this.Handle};return Object.keys(this).forEach((e=>{"Handle"!=e&&"Container"!=e&&"RequestedComponents"!=e&&"LastTime"!=e&&(t[e]=this[e])})),t}}}},e={};return function n(s){if(e[s])return e[s].exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}(607)})();
//# sourceMappingURL=index.js.map