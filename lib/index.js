module.exports=(()=>{var t={918:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t){var n=this;this.EntityHandle=null,Object.keys(t).forEach((function(e){n[e]=t[e]}))}return t.prototype.Export=function(){var t=this,n={};return Object.keys(this).forEach((function(e){"EntityHandle"!=e&&"Type"!=e&&(n[e]=t[e])})),n},t}();n.default=e},500:(t,n,e)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(336),i=e(171),r=function(){function t(t){this.Handle=t,void 0===this.Handle&&(this.Handle=i()),this.Entities={},this.Systems={},this.Components={},this.SleepInterval=1e3/30,this.IntervalFunc=null,this.Running=!1}return t.prototype.Start=function(t){void 0!==t&&(this.SleepInterval=t);var n=this;this.SystemsInit(),this.IntervalFunc=setInterval((function(){n.Update()}),this.SleepInterval),this.Running=!0},t.prototype.SystemsInit=function(){var t=this;Object.keys(this.Systems).forEach((function(n){t.Systems[n].Init()}))},t.prototype.Update=function(){var t=this;Object.keys(this.Systems).forEach((function(n){t.Systems[n].Update()})),!1===this.Running&&clearInterval(this.IntervalFunc)},t.prototype.ManagerSet=function(t){this.Manager=t},t.prototype.HandleGet=function(){return this.Handle},t.prototype.Entity=function(t){return this.EntityCreate(t)},t.prototype.System=function(t){return t.ContainerSet(this),this.Systems[t.HandleGet()]=t,t},t.prototype.EntityCreate=function(t){var n;return void 0===t?(n=new o.default,this.Entities[n.HandleGet()]=n):void 0===this.Entities[t]?(n=new o.default(t),this.Entities[n.HandleGet()]=n):n=this.Entities[t],n.ContainerSet(this),n},t.prototype.EntityDestroy=function(t){var n=this;Object.keys(this.Components).forEach((function(e){delete n.Components[e][t]}))},t.prototype.Component=function(t){return void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][t.EntityHandle]=t,t},t.prototype.ComponentsGet=function(t){var n=this,e={};return t.forEach((function(t){e[t]=n.Components[t],void 0===e[t]&&(e[t]={})})),e},t.prototype.Export=function(){var t=this,n={};return n.Handle=this.Handle,n.Entities=[],n.Systems=[],Object.keys(this.Entities).forEach((function(e){n.Entities.push(t.Entities[e].Export())})),Object.keys(this.Systems).forEach((function(e){n.Systems.push(t.Systems[e].Export())})),n},t}();n.default=r},336:(t,n,e)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(171),i=function(){function t(t){this.Handle=void 0===t?o():t,this.Components={}}return t.prototype.HandleGet=function(){return this.Handle},t.prototype.ContainerSet=function(t){this.Container=t},t.prototype.Component=function(t){return t.EntityHandle=this.Handle,void 0===this.Components[t.Type]&&(this.Components[t.Type]={}),this.Components[t.Type][this.Handle]=t,this.Container.Component(t)},t.prototype.Export=function(){var t=this,n={Handle:this.Handle,Components:{}};return Object.keys(this.Components).forEach((function(e){Object.keys(t.Components[e]).forEach((function(o){n.Components[e]=t.Components[e][o].Export()}))})),n},t.prototype.destroy=function(){this.Container.EntityDestroy(this.Handle)},t}();n.default=i},605:(t,n,e)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(500),i=function(){function t(){this.Containers=[],this.Running=!0}return t.prototype.ContainerCreate=function(t){var n=new o.default(t);return this.Containers[n.Handle]=n,this.Containers[n.Handle]},t.prototype.Container=function(t){return null!==t?void 0!==this.Containers[t]?this.Containers[t]:this.ContainerCreate(t):this.ContainerCreate(null)},t.prototype.ContainersGet=function(){return this.Containers},t.prototype.ContainersKill=function(t){t.forEach((function(t){clearInterval(t.interval)}))},t.prototype.IsRunning=function(){return this.Running},t.prototype.Shutdown=function(){this.Running=!1,this.ContainersKill(this.ContainersGet())},t}();n.default=i},510:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t){this.Handle=null,this.RequestedComponents=[],this.LastTime=(new Date).getTime()}return t.prototype.HandleGet=function(){return this.Handle},t.prototype.ContainerSet=function(t){this.Container=t},t.prototype.ComponentRequest=function(t){this.RequestedComponents.includes(t)||this.RequestedComponents.push(t)},t.prototype.ComponentsGet=function(){return this.Container.ComponentsGet(this.RequestedComponents)},t.prototype.DeltaTimeGet=function(){var t=(new Date).getTime(),n=t-this.LastTime;return this.LastTime=t,n},t.prototype.Init=function(){},t.prototype.Export=function(){var t=this,n={Handle:this.Handle};return Object.keys(this).forEach((function(e){"Handle"!=e&&"Container"!=e&&"RequestedComponents"!=e&&"LastTime"!=e&&(n[e]=t[e])})),n},t}();n.default=e},607:(t,n,e)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(918),i=e(605),r=e(510);n.default={Component:o.default,Manager:i.default,System:r.default}},327:t=>{for(var n=[],e=0;e<256;++e)n[e]=(e+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},217:t=>{var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var e=new Uint8Array(16);t.exports=function(){return n(e),e}}else{var o=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}},171:(t,n,e)=>{var o=e(217),i=e(327);t.exports=function(t,n,e){var r=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var a=0;a<16;++a)n[r+a]=s[a];return n||i(s)}}},n={};return function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{}};return t[o](i,i.exports,e),i.exports}(607)})();
//# sourceMappingURL=index.js.map